<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>小团子同学</title>
    <link rel="stylesheet" href="../index.css">
</head>
<body>
<div class="iframe-container">
    <iframe id="iframepage" src="https://child-study-project.pages.dev/" width="100%" frameborder="0" class="iframe"></iframe>
</div>
<script src="./info.js"></script>
<script src="../url.js"></script>
<script>
    const isMobile = {
        Android: function () {
            return navigator.userAgent.match(/Android/i) ? true : false;
        },
        BlackBerry: function () {
            return navigator.userAgent.match(/BlackBerry/i) ? true : false;
        },
        iOS: function () {
            return navigator.userAgent.match(/iPhone|iPad|iPod/i) ? true : false;
        },
        Windows: function () {
            return navigator.userAgent.match(/IEMobile/i) ? true : false;
        },
        any: function () {
            return isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Windows();
        }
    };
    const iframepage = document.getElementById('iframepage');

    if (isMobile.any()) {
        //如果是手机访问的话的操作！
        iframepage.setAttribute('sandbox', 'allow-forms allow-same-origin allow-top-navigation');
    } else {
        iframepage.setAttribute('sandbox', 'allow-scripts allow-forms allow-same-origin allow-top-navigation');
    }

    // 设置参数
    let params = "";
    Object.keys(INFO).forEach(key => {
        params += `${key}=${INFO[key]}&`
    })
    params = params.substring(0, params.length - 1)
    iframepage.src = `${URL}?${params}`

    document.title = `${INFO.name}同学`

</script>
</body>
</html>
